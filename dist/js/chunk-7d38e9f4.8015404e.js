(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d38e9f4"],{"7cd9":function(e,t,a){},b320:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card p-5"},[a("CRow",[a("CCol",{attrs:{sm:"12"}},[a("CInput",{attrs:{label:"Package Name",type:"text",horizontal:""},model:{value:e.singlePackageData.name,callback:function(t){e.$set(e.singlePackageData,"name",t)},expression:"singlePackageData.name"}}),a("div",{staticClass:"form-group form-row",attrs:{role:"group"}},[a("label",{staticClass:"col-form-label col-sm-3"},[e._v(" Price ")]),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.singlePackageData.price,expression:"singlePackageData.price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.singlePackageData.price},on:{input:[function(t){t.target.composing||e.$set(e.singlePackageData,"price",t.target.value)},function(t){e.singlePackageData.price=e.singlePackageData.price.replace(/[^0-9]/g,"").replace(/(\..*)\./g,"$1")}]}})])]),a("div",{staticClass:"form-group form-row",attrs:{role:"group"}},[a("label",{staticClass:"col-form-label col-sm-3"},[e._v(" Validity(In Days) ")]),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.singlePackageData.validity,expression:"singlePackageData.validity"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.singlePackageData.validity},on:{input:[function(t){t.target.composing||e.$set(e.singlePackageData,"validity",t.target.value)},function(t){e.singlePackageData.validity=e.singlePackageData.validity.replace(/[^0-9]/g,"").replace(/(\..*)\./g,"$1")}]}})])]),a("div",{staticClass:"form-group form-row",attrs:{role:"group"}},[a("label",{staticClass:"col-sm-3"},[e._v("Categories")]),a("div",{staticClass:"col-sm-9"},e._l(e.catSubData,(function(t,s){return a("div",{staticClass:"form-group form-row ml-2"},[a("div",{staticClass:"col-sm-9 row"},[a("div",{staticClass:"col-sm-6 row"},[a("input",{staticClass:"form-control col-sm-1",attrs:{type:"hidden",id:"subcat"+s,name:"subcategory"},domProps:{value:t.id}}),a("label",{staticClass:"col-sm-10"},[e._v(e._s(t.sub_category_name))])]),a("div",{staticClass:"col-sm-6"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"comm"+s,name:"commission",placeholder:"Commission"},domProps:{value:t.commission}})])])])})),0)]),a("div",{staticClass:"form-group form-row",attrs:{role:"group"}},[a("label",{staticClass:"col-form-label col-sm-3"},[e._v("Image")]),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"image",attrs:{type:"file"}})]),a("div",{staticClass:"col-md-3"},[a("label",{staticClass:"col-form-label"},[e._v("Last Image")]),a("img",{attrs:{src:e.singlePackageData.image,height:"40",width:"40"}})])])],1)],1),a("CRow",[a("CCol",{attrs:{sm:"12"}},[a("CButton",{attrs:{type:"button",size:"sm",color:"primary",disabled:e.singlePackageData.disabled},on:{click:function(t){return e.updatePackage("")}}},[a("CIcon",{attrs:{name:"cil-check-circle"}}),e._v(" Submit ")],1)],1)],1)],1)},i=[],o=a("bc26"),r={name:"AddPackage",data:function(){return{singlePackageData:{id:"",name:"",price:"",commission:[],image:"",validity:"",disabled:!1,subcategory:[]},catSubData:[],disabled:!0}},mixins:[o["a"]],created:function(){var e=this,t=document.URL.split("/")[document.URL.split("/").length-1];e.getCatSubCat(t),e.getSinglePackage(t)},methods:{enableInput:function(e){$("#subcat"+e).is(":checked")?$("#comm"+e).attr("disabled",!1):$("#comm"+e).attr("disabled",!0)},getCatSubCat:function(e){var t=this;axios.get(APP_URL+"/get-cat-sub-edit/"+e).then((function(e){t.catSubData=e.data.res})).catch((function(e){}))},getSinglePackage:function(e){var t=this;axios.get(APP_URL+"/get-single-package/"+e).then((function(e){t.singlePackageData.id=e.data.res.id,t.singlePackageData.name=e.data.res.name,t.singlePackageData.price=e.data.res.price;for(var a=0;a<e.data.res.packagecommission.length;a++)t.singlePackageData.commission[a]=e.data.res.packagecommission[a].commission;t.singlePackageData.image=e.data.res.image,t.singlePackageData.validity=e.data.res.validity,t.editPackageModal=!0})).catch((function(e){}))},updatePackage:function(){var e=this,t=this,a=$("input[name='subcategory']").map((function(){return $(this).val()})).get();t.singlePackageData.subcategory=a;var s=$("input[name='commission']").map((function(){return $(this).val()})).get();if(t.singlePackageData.commission=s,""==t.singlePackageData.name)this.$swal({type:"error",title:"error",text:"Please Enter Package Name",showConfirmButton:!0});else if(""==t.singlePackageData.price&&0!=t.singlePackageData.price)this.$swal({type:"error",title:"error",text:"Please Enter Package Price",showConfirmButton:!0});else if(""==t.singlePackageData.validity&&0!=t.singlePackageData.price)this.$swal({type:"error",title:"error",text:"Please Enter Package Validity",showConfirmButton:!0});else if(t.singlePackageData.subcategory.length){var i=new FormData;t.singlePackageData.disabled=!0;for(var o=t.$refs.image.files[0],r=0;r<t.singlePackageData.subcategory.length;r++)t.singlePackageData.commission[r]||(t.singlePackageData.commission[r]=0);i.append("image",o),i.append("id",t.singlePackageData.id),i.append("name",t.singlePackageData.name),i.append("price",t.singlePackageData.price),i.append("commission",t.singlePackageData.commission),i.append("subcategory",t.singlePackageData.subcategory),i.append("validity",t.singlePackageData.validity),axios.post(APP_URL+"/update-package",i).then((function(e){t.singlePackageData.disabled=!1,t.$swal({type:"success",title:"Success",text:e.data.message,showConfirmButton:!0}).then((function(){t.$router.push("/packages")}))})).catch((function(a){t.singlePackageData.disabled=!1,e.$swal({type:"error",title:"error",text:a.response.data.message,showConfirmButton:!0})}))}else this.$swal({type:"error",title:"error",text:"Please Select atleast one category",showConfirmButton:!0})}}},n=r,l=(a("e002"),a("2877")),c=Object(l["a"])(n,s,i,!1,null,null,null);t["default"]=c.exports},bc26:function(e,t,a){"use strict";t["a"]={name:"CommonAdminMixin",data:function(){return{singleWork:{name:"",description:"",minBudget:"",maxBudget:"",status:"",id:"",amount:"",disabled:!1},editWorkModal:!1,options:[{label:"Pending",value:0},{label:"Progress",value:1},{label:"Deal",value:2},{label:"Completed",value:3},{label:"Delivered",value:4}],optionsPending:[{label:"Pending",value:0},{label:"Progress",value:1}],optionsProgress:[{label:"Progress",value:1},{label:"Deal",value:2}],optionsDeal:[{label:"Deal",value:2},{label:"Completed",value:3}],optionsCompleted:[{label:"Completed",value:3},{label:"Delivered",value:4}],optionsDelivered:[{label:"Delivered",value:4}],creditAmountModal:!1,creditAmountData:{userId:"",date:"",comment:"",amount:"",requestId:""},CategoryData:[],SubCategoryData:[]}},created:function(){var e=this;e.getCategories()},methods:{getCategories:function(){var e=this;axios.post(APP_URL+"/select-categories").then((function(t){e.CategoryData=t.data.res})).catch((function(e){}))},getSubCategories:function(e){var t=this;axios.post(APP_URL+"/select-sub-categories/"+e).then((function(e){t.SubCategoryData=e.data.res})).catch((function(e){}))},openModal:function(e,t,a){var s=this;s.creditAmountModal=!0,s.creditAmountData.userId=e,s.creditAmountData.amount=t,s.creditAmountData.requestId=a},creditAmount:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this;e.creditAmountData.date?e.creditAmountData.amount?e.creditAmountData.comment?axios.post(APP_URL+"/credit-amount",e.creditAmountData).then((function(t){e.$swal({type:"success",title:"Success",text:t.data.message,showConfirmButton:!0}).then((function(){e.creditAmountModal=!1,e.getUserPayments()}))})).catch((function(e){})):this.$swal({type:"error",title:"Error",text:"Comment is required",showConfirmButton:!0}):this.$swal({type:"error",title:"Error",text:"Amount is required",showConfirmButton:!0}):this.$swal({type:"error",title:"Error",text:"Date is required",showConfirmButton:!0})},getSingleWork:function(e){var t=this;axios.get(APP_URL+"/get-work-details/"+e).then((function(e){t.editWorkModal=!0,t.singleWork.name=e.data.res.name,t.singleWork.description=e.data.res.description,t.getCategories(),t.singleWork.category=e.data.res.category,t.getSubCategories(t.singleWork.category),t.singleWork.subcategory=e.data.res.sub_category,t.singleWork.minBudget=e.data.res.min_budget,t.singleWork.maxBudget=e.data.res.max_budget,t.singleWork.status=e.data.res.status,t.singleWork.id=e.data.res.id,t.singleWork.amount=e.data.res.amount})).catch((function(e){}))},updateWork:function(e){var t=this,a=this;""==a.singleWork.name?this.$swal({type:"error",title:"error",text:"Please Enter Client Name",showConfirmButton:!0}):""==a.singleWork.description?this.$swal({type:"error",title:"error",text:"Please Enter Work Description",showConfirmButton:!0}):a.singleWork.minBudget?a.singleWork.maxBudget?2!=a.singleWork.status||a.singleWork.amount?(a.singleWork.disabled=!0,isNaN(a.singleWork.status)&&(a.singleWork.status=a.singleWork.status.value),axios.post(APP_URL+"/update-work",a.singleWork).then((function(t){a.singleWork.disabled=!1,a.$swal({type:"success",title:"Success",text:t.data.message,showConfirmButton:!0}).then((function(){if(a.editWorkModal=!1,e)a.getWorkDetails(a.singleWork.id);else{var t=document.URL.split("/")[document.URL.split("/").length-1];isNaN(t)?a.getWorks():a.getUserWorks()}}))})).catch((function(e){a.singleWork.disabled=!1,t.$swal({type:"error",title:"error",text:e.response.data.message,showConfirmButton:!0})}))):this.$swal({type:"error",title:"error",text:"Please Enter Work Final Amount",showConfirmButton:!0}):this.$swal({type:"error",title:"error",text:"Please Enter Work Maximum Budget",showConfirmButton:!0}):this.$swal({type:"error",title:"error",text:"Please Enter Work Minimum Budget",showConfirmButton:!0})},updateClaimWork:function(e){var t=this,a=this;""==a.singleWork.name?this.$swal({type:"error",title:"error",text:"Please Enter Client Name",showConfirmButton:!0}):""==a.singleWork.description?this.$swal({type:"error",title:"error",text:"Please Enter Work Description",showConfirmButton:!0}):a.singleWork.minBudget?a.singleWork.maxBudget?2!=a.singleWork.status||a.singleWork.amount?(a.singleWork.disabled=!0,isNaN(a.singleWork.status)&&(a.singleWork.status=a.singleWork.status.value),axios.post(APP_URL+"/update-work",a.singleWork).then((function(t){a.singleWork.disabled=!1,a.$swal({type:"success",title:"Success",text:t.data.message,showConfirmButton:!0}).then((function(){if(a.editWorkModal=!1,e)a.getWorkDetails(a.singleWork.id);else{var t=document.URL.split("/")[document.URL.split("/").length-1];isNaN(t)?a.getClaimedWorks():a.getUserWorks()}}))})).catch((function(e){a.singleWork.disabled=!1,t.$swal({type:"error",title:"error",text:e.response.data.message,showConfirmButton:!0})}))):this.$swal({type:"error",title:"error",text:"Please Enter Work Final Amount",showConfirmButton:!0}):this.$swal({type:"error",title:"error",text:"Please Enter Work Maximum Budget",showConfirmButton:!0}):this.$swal({type:"error",title:"error",text:"Please Enter Work Minimum Budget",showConfirmButton:!0})}}}},e002:function(e,t,a){"use strict";var s=a("7cd9"),i=a.n(s);i.a}}]);
//# sourceMappingURL=chunk-7d38e9f4.8015404e.js.map